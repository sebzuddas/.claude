   120→
   121→  /**
   122→   * Initialize PIXI and create the renderer
   123→   */
   124→  async initialize(container: HTMLElement): Promise<void> {
   125→    if (this.initialized) return
   126→
   127→    // Dynamically import PIXI
   128→    this.PIXI = await import('pixi.js')
   129→
   130→    this.container = container
   131→
   132→    // Create PIXI application
   133→    this.app = new this.PIXI.Application()
   134→
   135→    await this.app.init({
   136→      width: this.config.width,
   137→      height: this.config.height,
   138→      backgroundColor: hexToNumber(this.config.backgroundColor || '#1a1a2e'),
   139→      antialias: true,
   140→      resolution: window.devicePixelRatio || 1,
   141→      autoDensity: true,
   142→    })
   143→
   144→    // Add canvas to container
   145→    container.appendChild(this.app.canvas)
   146→
   147→    // Create layer containers
   148→    this.environmentContainer = new this.PIXI.Container()
   149→    this.trailContainer = new this.PIXI.Container()
   150→    this.agentContainer = new this.PIXI.Container()
   151→    this.uiContainer = new this.PIXI.Container()
   152→
   153→    this.app.stage.addChild(this.environmentContainer)
   154→    this.app.stage.addChild(this.trailContainer)
   155→    this.app.stage.addChild(this.agentContainer)
   156→    this.app.stage.addChild(this.uiContainer)
   157→
   158→    this.initialized = true
   159→  }
   160→
   161→  /**
   162→   * Set up environment rendering (grid, zones, obstacles)
   163→   */
   164→  setupEnvironment(config: EnvironmentConfig, zones?: ZoneDefinition[], obstacles?: ObstacleDefinition[]): void {
   165→    if (!this.environmentContainer || !this.PIXI) return
   166→
   167→    this.environmentConfig = config
   168→    this.environmentContainer.removeChildren()
   169→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
