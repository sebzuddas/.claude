The file /Users/sebastianozuddas/Programming/Website/simulator/src/components/visualizations/SystemModel.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    40→  progress: number  // 0 to 1
    41→  active: boolean
    42→}
    43→
    44→export default function SystemModel({
    45→  data,
    46→  width = 1200,
    47→  height = 800,
    48→  onError
    49→}: SystemModelProps) {
    50→  const canvasRef = useRef<HTMLDivElement>(null)
    51→  const controlsRef = useRef<HTMLDivElement>(null)
    52→  const [p5Instance, setP5Instance] = useState<any>(null)
    53→  const simulationRef = useRef<SimulationResult | null>(null)
    54→  const [currentTimeIndex, setCurrentTimeIndex] = useState(0)
    55→  const currentTimeIndexRef = useRef(0) // Ref for P5 to read without re-mounting
    56→  const [isPlaying, setIsPlaying] = useState(false)
    57→  const [simulationError, setSimulationError] = useState<string | null>(null)
    58→  const simulationErrorRef = useRef<string | null>(null) // Ref for P5 to read
    59→
    60→  // Run simulation when data changes
    61→  useEffect(() => {
    62→    if (!data) return