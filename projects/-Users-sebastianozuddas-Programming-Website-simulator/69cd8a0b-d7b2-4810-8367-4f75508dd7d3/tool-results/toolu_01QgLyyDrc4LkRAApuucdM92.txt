The file /Users/sebastianozuddas/Programming/Website/simulator/src/components/visualizations/SystemModel.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   304→              p.text(`w=${weight.toFixed(2)}`, midX, midY + 10)
   305→            })
   306→          }
   307→
   308→          function drawArrow(p: any, from: Node, to: Node, isPositive: boolean, isBidirectional: boolean, offsetAmount: number) {
   309→            let x1 = from.x
   310→            let y1 = from.y
   311→            let x2 = to.x
   312→            let y2 = to.y
   313→
   314→            // For bidirectional edges, draw parallel pipe offset from center
   315→            if (isBidirectional) {
   316→              const offset = getParallelOffset(x1, y1, x2, y2, offsetAmount)
   317→              x1 += offset.x
   318→              y1 += offset.y
   319→              x2 += offset.x
   320→              y2 += offset.y
   321→            }
   322→
   323→            // Draw pipe (line)
   324→            p.line(x1, y1, x2, y2)
   325→
   326→            // Draw arrowhead proportioned to pipe width
   327→            const angle = p.atan2(y2 - y1, x2 - x1)
   328→            const arrowSize = PIPE_WIDTH * 2.5 // Proportioned to pipe width
   329→
   330→            p.push()
   331→            p.translate(x2, y2)
   332→            p.rotate(angle)
   333→            p.fill(isPositive ? [50, 150, 50] : [150, 50, 50])
   334→            p.noStroke()
   335→            p.triangle(-arrowSize, -arrowSize/2, -arrowSize, arrowSize/2, 0, 0)
   336→            p.pop()
   337→
   338→            // Draw +/- sign near the endpoint
   339→            const signOffset = 20
   340→            const perpAngle = angle + Math.PI/2
   341→            const signX = x2 + signOffset * Math.cos(perpAngle)
   342→            const signY = y2 + signOffset * Math.sin(perpAngle)
   343→
   344→            p.fill(isPositive ? [50, 150, 50] : [150, 50, 50])
   345→            p.textSize(16)
   346→            p.textAlign(p.CENTER, p.CENTER)
   347→            p.text(isPositive ? '+' : '-', signX, signY)
   348→          }
   349→
   350→          // Helper: Get parallel offset for bidirectional pipes
   351→          function getParallelOffset(x1: number, y1: number, x2: number, y2: number, offsetAmount: number) {
   352→            // Calculate perpendicular direction
   353→            const dx = x2 - x1
   354→            const dy = y2 - y1
   355→            const len = Math.sqrt(dx * dx + dy * dy)
   356→
   357→            if (len === 0) return { x: 0, y: 0 }
   358→
   359→            // Perpendicular unit vector
   360→            const perpX = -dy / len
   361→            const perpY = dx / len
   362→
   363→            return {
   364→              x: perpX * offsetAmount,
   365→              y: perpY * offsetAmount
   366→            }
   367→          }
   368→
   369→          // Helper: Get control point for quadratic bezier curve
   370→          function getCurveControlPoint(x1: number, y1: number, x2: number, y2: number, offset: number) {
   371→            const midX = (x1 + x2) / 2