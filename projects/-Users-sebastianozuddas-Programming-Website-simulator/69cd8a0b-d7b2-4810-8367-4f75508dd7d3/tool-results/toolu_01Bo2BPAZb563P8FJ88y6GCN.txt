<tool_use_error>String to replace not found in file.
String:       // TODO: Fix gif.js dependency issue
      reject(new Error('GIF export temporarily disabled - gif.js dependency needs to be installed'))
      return

      // Dynamically import gif.js
      // const GIF = (await import('gif.js')).default

      // const gif = new GIF({
      //   workers: 2,
      //   quality: 10,
      //   width: canvas.width,
      //   height: canvas.height,
      //   workerScript: '/gif.worker.js' // Will need to be added to public folder
      // })

      const totalFrames = duration * fps
      const frameDelay = 1000 / fps
      let capturedFrames = 0

      const captureFrame = () => {
        if (capturedFrames >= totalFrames) {
          // Finish recording
          gif.render()
          return
        }

        // Add current canvas frame
        gif.addFrame(canvas, { copy: true, delay: frameDelay })
        capturedFrames++

        // Update progress
        const progress = Math.round((capturedFrames / totalFrames) * 100)
        onProgress?.(progress)

        // Capture next frame
        setTimeout(captureFrame, frameDelay)
      }

      gif.on('finished', (blob: Blob) => {
        // Download the GIF
        const url = URL.createObjectURL(blob)
        const a = document.createElement('a')
        a.href = url
        a.download = filename
        a.click()
        URL.revokeObjectURL(url)

        onComplete?.()
        resolve()
      })

      gif.on('error', (error: Error) => {
        console.error('GIF creation error:', error)
        reject(error)
      })

      // Start capturing
      captureFrame()</tool_use_error>