The file /Users/sebastianozuddas/Programming/Website/simulator/src/app/abm/page.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   166→      controller.on('tick', () => {
   167→        setTimeseries(new Map(controller.getTimeseries()))
   168→      })
   169→
   170→      // Initial render
   171→      renderer.render(controller.getEntities())
   172→
   173→      setModel(modelDef)
   174→      setSimState(controller.getState())
   175→      setMessage({ text: `Loaded: ${modelDef.overview.purpose}`, type: 'success' })
   176→
   177→      // Reset and auto-select graph options
   178→      const availableMetrics = modelDef.designConcepts?.observation?.timeseries?.map(ts => ts.name) || []
   179→      setSelectedAggregateMetrics(availableMetrics.slice(0, 5)) // Auto-select first 5
   180→
   181→      const archetypes = modelDef.overview?.entities?.archetypes?.map(a => a.name) || []
   182→      setSelectedArchetype(archetypes[0] || '')
   183→      setSelectedAgentId('')
   184→      setSelectedAgentProperties([])
   185→      setAgentTimeseries(new Map())
   186→
   187→    } catch (error) {
   188→      console.error('Failed to initialize simulation:', error)
   189→      setMessage({