The file /Users/sebastianozuddas/Programming/Website/simulator/CLAUDE.md has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   393→2. **Use local variables** - For data that doesn't need to trigger re-renders
   394→3. **Cleanup event listeners** - Remove all listeners in useEffect return function
   395→4. **Monitor dependencies** - Only include values that should trigger re-creation
   396→
   397→### Common Pitfalls
   398→
   399→#### Pitfall 1: State in Effect Dependencies
   400→❌ **DON'T**: Include state in dependencies if you modify it in the effect
   401→```typescript
   402→useEffect(() => {
   403→  setFontSize(20) // Modifies state
   404→}, [fontSize]) // Depends on it = INFINITE LOOP
   405→```
   406→
   407→✅ **DO**: Use local variables or refs
   408→```typescript
   409→useEffect(() => {
   410→  let fontSize = 20
   411→  // Load async...
   412→  fontSize = loadedSize
   413→  // Use in sketch closure
   414→}, [data]) // Only depends on data
   415→```
   416→
   417→#### Pitfall 2: P5 Reading from State
   418→❌ **DON'T**: Read state directly in P5 draw loop (causes re-mount on every state change)
   419→```typescript
   420→const [currentIndex, setCurrentIndex] = useState(0)
   421→
   422→useEffect(() => {
   423→  const sketch = (p) => {
   424→    p.draw = () => {
   425→      const idx = currentIndex // Causes re-mount!
   426→    }
   427→  }
   428→  p5 = new P5(sketch)
   429→}, [currentIndex]) // P5 recreated every frame!
   430→```
   431→
   432→✅ **DO**: Use refs for values P5 needs to read
   433→```typescript
   434→const currentIndexRef = useRef(0)
   435→const [currentIndex, setCurrentIndex] = useState(0)
   436→
   437→useEffect(() => {
   438→  currentIndexRef.current = currentIndex
   439→}, [currentIndex])
   440→
   441→useEffect(() => {
   442→  const sketch = (p) => {
   443→    p.draw = () => {
   444→      const idx = currentIndexRef.current // No re-mount!
   445→    }
   446→  }
   447→  p5 = new P5(sketch)
   448→}, [data]) // Only re-create when data changes
   449→```
   450→
   451→#### Pitfall 3: Disabled vs Hidden Buttons
   452→❌ **DON'T**: Leave buttons visible when they can't function
   453→```typescript
   454→<button disabled={!hasData}>Export</button>
   455→// Button visible but grayed out - confusing UX
   456→```
   457→
   458→✅ **DO**: Conditionally render buttons that require preconditions
   459→```typescript
   460→{hasData && <button>Export</button>}
   461→// Button only appears when it can actually work
   462→```
   463→
   464→Exception: Use `disabled` for buttons that should always be visible but temporarily inactive (e.g., "Next" button at end of list).
   465→
   466→## Development Workflow
   467→
   468→### Local Development