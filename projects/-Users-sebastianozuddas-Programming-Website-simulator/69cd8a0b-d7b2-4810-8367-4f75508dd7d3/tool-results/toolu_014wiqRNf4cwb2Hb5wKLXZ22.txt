The file /Users/sebastianozuddas/Programming/Website/simulator/src/components/visualizations/SystemModel.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   233→              edge.flowRate = edge.weight * edge.from.value
   234→            })
   235→          }
   236→
   237→          function updateParticles(pool: Particle[]) {
   238→            pool.forEach(particle => {
   239→              const { edge } = particle
   240→
   241→              // Calculate particle speed based on flow rate (variable velocity)
   242→              const baseSpeed = 0.015 // Base speed per frame
   243→              const referenceFlow = 1.0 // Reference flow rate for normalization
   244→
   245→              // Speed proportional to flow magnitude
   246→              const absFlowRate = Math.abs(edge.flowRate)
   247→              const speed = baseSpeed * (absFlowRate / referenceFlow)
   248→
   249→              // Update progress based on flow direction
   250→              if (edge.flowRate >= 0) {
   251→                // Positive flow: move forward
   252→                particle.progress += speed
   253→                if (particle.progress >= 1) {
   254→                  particle.progress -= 1 // Wraparound to start
   255→                }
   256→              } else {
   257→                // Negative flow: move backward
   258→                particle.progress -= speed
   259→                if (particle.progress < 0) {
   260→                  particle.progress += 1 // Wraparound to end
   261→                }
   262→              }
   263→
   264→              // Clamp to [0, 1] just in case
   265→              particle.progress = Math.max(0, Math.min(1, particle.progress))
   266→            })
   267→          }
   268→
   269→          function drawEdges(p: any, edges: Edge[]) {
   270→            edges.forEach(edge => {
   271→              const { from, to, weight, flowRate, bidirectional, parallelOffset } = edge