   790â†’    <div className="w-full">
   791â†’      <div ref={canvasRef} />
   792â†’
   793â†’      {/* Playback Controls */}
   794â†’      <div ref={controlsRef} className="mt-4 p-4 bg-gray-100 rounded-lg">
   795â†’        {/* Export Controls */}
   796â†’        <div className="flex items-center justify-center gap-2 mb-4 pb-3 border-b border-gray-300">
   797â†’          {hasSimulationData && (
   798â†’            <button
   799â†’              onClick={openInStateSpaceVisualizer}
   800â†’              className="px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded hover:from-pink-600 hover:to-purple-600 transition-colors text-sm font-semibold shadow-md"
   801â†’              title="Open this simulation in the State Space Visualizer"
   802â†’            >
   803â†’              ðŸŽ¨ View Phase Portrait
   804â†’            </button>
   805â†’          )}
   806â†’          <button
   807â†’            onClick={exportToCSV}
   808â†’            className="px-3 py-1 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors text-sm"
   809â†’            disabled={!hasSimulationData}
   810â†’            title="Export time series data as CSV"
   811â†’          >
   812â†’            ðŸ“Š Export CSV
   813â†’          </button>
   814â†’          <button
   815â†’            onClick={exportToJSON}
   816â†’            className="px-3 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition-colors text-sm"
   817â†’            disabled={!hasSimulationData}
   818â†’            title="Export complete simulation data as JSON"
   819â†’          >
   820â†’            ðŸ“„ Export JSON
   821â†’          </button>
   822â†’          <button
   823â†’            onClick={copyCurrentState}
   824â†’            className="px-3 py-1 bg-teal-500 text-white rounded hover:bg-teal-600 transition-colors text-sm"
   825â†’            disabled={!hasSimulationData}
   826â†’            title="Copy current frame data to clipboard"
   827â†’          >
   828â†’            ðŸ“‹ Copy Frame
   829â†’          </button>
   830â†’        </div>
   831â†’
   832â†’        <div className="flex items-center justify-center gap-4 mb-3">
   833â†’          <button
   834â†’            onClick={handleReset}
   835â†’            className="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors"
   836â†’            disabled={!simulationRef.current}
   837â†’          >
   838â†’            Reset
   839â†’          </button>

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
