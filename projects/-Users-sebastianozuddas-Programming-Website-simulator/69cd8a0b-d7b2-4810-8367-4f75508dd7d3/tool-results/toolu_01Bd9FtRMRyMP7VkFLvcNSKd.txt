The file /Users/sebastianozuddas/Programming/Website/simulator/src/app/abm/page.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   233→    }
   234→
   235→    animationFrameRef.current = requestAnimationFrame(loop)
   236→
   237→    return () => {
   238→      if (animationFrameRef.current) {
   239→        cancelAnimationFrame(animationFrameRef.current)
   240→      }
   241→    }
   242→  }, [speed, simState?.paused])
   243→
   244→  // =============================================================================
   245→  // TRACK INDIVIDUAL AGENT DATA
   246→  // =============================================================================
   247→
   248→  useEffect(() => {
   249→    if (!controllerRef.current || !selectedAgentId || selectedAgentProperties.length === 0) return
   250→    if (!simState?.tick) return
   251→
   252→    const entity = controllerRef.current.getEntity(selectedAgentId)
   253→    if (!entity) return
   254→
   255→    const tick = simState.tick
   256→    const components = (entity as any).getAllComponents()
   257→
   258→    setAgentTimeseries(prev => {
   259→      const newMap = new Map(prev)
   260→
   261→      for (const propPath of selectedAgentProperties) {
   262→        const [componentType, propName] = propPath.split('.')
   263→        const componentData = components.get(componentType)
   264→        const value = componentData?.[propName]
   265→
   266→        if (typeof value === 'number') {
   267→          const existing = newMap.get(propPath) || { name: propPath, values: [], ticks: [] }
   268→          // Only add if this is a new tick
   269→          if (existing.ticks.length === 0 || existing.ticks[existing.ticks.length - 1] < tick) {
   270→            existing.values.push(value)
   271→            existing.ticks.push(tick)
   272→            newMap.set(propPath, existing)
   273→          }
   274→        }
   275→      }
   276→
   277→      return newMap
   278→    })
   279→  }, [simState?.tick, selectedAgentId, selectedAgentProperties])
   280→
   281→  // Reset agent timeseries when agent selection changes
   282→  useEffect(() => {
   283→    setAgentTimeseries(new Map())
   284→  }, [selectedAgentId])
   285→
   286→  // =============================================================================
   287→  // CONTROLS
   288→  // =============================================================================
   289→
   290→  const handlePlay = () => {
   291→    controllerRef.current?.play()