The file /Users/sebastianozuddas/Programming/Website/simulator/src/components/visualizations/SystemModel.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   151→
   152→            p.frameRate(30)
   153→          }
   154→
   155→          p.draw = () => {
   156→            p.background(250)
   157→
   158→            // Read from refs to avoid re-mounting on state change
   159→            if (simulationErrorRef.current) {
   160→              p.fill(200, 50, 50)
   161→              p.textSize(16)
   162→              p.textAlign(p.CENTER, p.CENTER)
   163→              p.text(simulationErrorRef.current, width / 2, height / 2)
   164→              return
   165→            }
   166→
   167→            if (!simulationRef.current || !data) {
   168→              p.fill(150)
   169→              p.textSize(16)
   170→              p.textAlign(p.CENTER, p.CENTER)
   171→              p.text('No simulation data', width / 2, (height - 100) / 2)
   172→              return
   173→            }
   174→
   175→            // Update node values based on current time (read from ref!)
   176→            updateNodeValues(nodes, simulationRef.current, currentTimeIndexRef.current)
   177→            updateEdgeFlowRates(edges, nodes)
   178→
   179→            // Spawn particles based on flow rates
   180→            if (p.millis() - lastParticleSpawn > 100) {
   181→              spawnParticles(edges, particlePool)